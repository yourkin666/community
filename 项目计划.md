# äº¤æµç¤¾åŒºå…¨æ ˆé¡¹ç›®è®¡åˆ’

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: äº¤æµç¤¾åŒºå¹³å°  
**æŠ€æœ¯æ ˆ**: React + Spring Boot + MyBatis + MySQL + Docker  
**é¡¹ç›®ç±»å‹**: å…¨æ ˆWebåº”ç”¨  
**å¼€å‘æ¨¡å¼**: å®¹å™¨åŒ–éƒ¨ç½²  

## ğŸ¯ é¡¹ç›®ç›®æ ‡

æ„å»ºä¸€ä¸ªç°ä»£åŒ–çš„äº¤æµç¤¾åŒºå¹³å°ï¼Œæ”¯æŒç”¨æˆ·å‘å¸ƒæ–‡ç« ã€äº’åŠ¨äº¤æµã€å…³æ³¨ç³»ç»Ÿç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œé‡‡ç”¨ç®€æ´ç°ä»£çš„UIè®¾è®¡é£æ ¼ã€‚

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **Spring Boot 2.7+** - ä¸»æ¡†æ¶
- **Spring Security** - ç”¨æˆ·è®¤è¯å’Œæˆæƒ
- **MyBatis** - æ•°æ®åº“æ“ä½œ
- **MySQL 8.0** - ä¸»æ•°æ®åº“
- **Redis** - ç¼“å­˜å’Œä¼šè¯ç®¡ç†
- **Maven** - ä¾èµ–ç®¡ç†

### å‰ç«¯æŠ€æœ¯æ ˆ
- **React 18+** - ä¸»æ¡†æ¶
- **React Router** - è·¯ç”±ç®¡ç†
- **Axios** - HTTPè¯·æ±‚
- **Ant Design** - UIç»„ä»¶åº“ï¼ˆç®€æ´ç°ä»£é£æ ¼ï¼‰
- **Redux Toolkit** - çŠ¶æ€ç®¡ç†
- **CSS Modules** - æ ·å¼ç®¡ç†

### å®¹å™¨åŒ–éƒ¨ç½²
- **Docker** - å®¹å™¨åŒ–
- **Docker Compose** - å¤šå®¹å™¨ç¼–æ’
- **Nginx** - åå‘ä»£ç†
- **MySQLå®¹å™¨** - æ•°æ®åº“æœåŠ¡
- **Rediså®¹å™¨** - ç¼“å­˜æœåŠ¡

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨ç»“æ„

```sql
-- ç”¨æˆ·è¡¨
CREATE TABLE users (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    avatar VARCHAR(255),
    bio TEXT,
    role ENUM('USER', 'MODERATOR', 'ADMIN') DEFAULT 'USER',
    status ENUM('ACTIVE', 'INACTIVE', 'BANNED') DEFAULT 'ACTIVE',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- æ–‡ç« è¡¨
CREATE TABLE articles (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(200) NOT NULL,
    content LONGTEXT NOT NULL,
    summary TEXT,
    author_id BIGINT NOT NULL,
    category_id BIGINT,
    status ENUM('DRAFT', 'PUBLISHED', 'ARCHIVED') DEFAULT 'DRAFT',
    view_count INT DEFAULT 0,
    like_count INT DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (author_id) REFERENCES users(id),
    FOREIGN KEY (category_id) REFERENCES categories(id)
);

-- åˆ†ç±»è¡¨
CREATE TABLE categories (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50) UNIQUE NOT NULL,
    description TEXT,
    sort_order INT DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- æ ‡ç­¾è¡¨
CREATE TABLE tags (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(30) UNIQUE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- æ–‡ç« æ ‡ç­¾å…³è”è¡¨
CREATE TABLE article_tags (
    article_id BIGINT,
    tag_id BIGINT,
    PRIMARY KEY (article_id, tag_id),
    FOREIGN KEY (article_id) REFERENCES articles(id) ON DELETE CASCADE,
    FOREIGN KEY (tag_id) REFERENCES tags(id) ON DELETE CASCADE
);

-- è¯„è®ºè¡¨
CREATE TABLE comments (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    article_id BIGINT NOT NULL,
    user_id BIGINT NOT NULL,
    content TEXT NOT NULL,
    parent_id BIGINT,
    like_count INT DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (article_id) REFERENCES articles(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (parent_id) REFERENCES comments(id)
);

-- ç‚¹èµè¡¨
CREATE TABLE likes (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    target_type ENUM('ARTICLE', 'COMMENT') NOT NULL,
    target_id BIGINT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE KEY unique_like (user_id, target_type, target_id),
    FOREIGN KEY (user_id) REFERENCES users(id)
);

-- å…³æ³¨è¡¨
CREATE TABLE follows (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    follower_id BIGINT NOT NULL,
    following_id BIGINT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE KEY unique_follow (follower_id, following_id),
    FOREIGN KEY (follower_id) REFERENCES users(id),
    FOREIGN KEY (following_id) REFERENCES users(id)
);

-- ç§ä¿¡è¡¨
CREATE TABLE messages (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    sender_id BIGINT NOT NULL,
    receiver_id BIGINT NOT NULL,
    content TEXT NOT NULL,
    status ENUM('UNREAD', 'READ') DEFAULT 'UNREAD',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (sender_id) REFERENCES users(id),
    FOREIGN KEY (receiver_id) REFERENCES users(id)
);

-- é€šçŸ¥è¡¨
CREATE TABLE notifications (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    type ENUM('LIKE', 'COMMENT', 'FOLLOW', 'MESSAGE') NOT NULL,
    content TEXT NOT NULL,
    is_read BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);
```

## ğŸš€ åŠŸèƒ½æ¨¡å—è§„åˆ’

### 1. ç”¨æˆ·ç³»ç»Ÿ
- [x] ç”¨æˆ·æ³¨å†Œ/ç™»å½•/ç™»å‡º
- [x] ç”¨æˆ·èµ„æ–™ç®¡ç†ï¼ˆå¤´åƒã€ç®€ä»‹ã€ä¸ªäººä¸»é¡µï¼‰
- [x] ç”¨æˆ·æƒé™ç®¡ç†ï¼ˆæ™®é€šç”¨æˆ·ã€ç‰ˆä¸»ã€ç®¡ç†å‘˜ï¼‰
- [x] ç”¨æˆ·çŠ¶æ€ç®¡ç†

### 2. æ–‡ç« ç³»ç»Ÿ
- [x] æ–‡ç« å‘å¸ƒã€ç¼–è¾‘ã€åˆ é™¤
- [x] æ–‡ç« åˆ†ç±»å’Œæ ‡ç­¾ç®¡ç†
- [x] æ–‡ç« æœç´¢å’Œç­›é€‰
- [x] æ–‡ç« çŠ¶æ€ç®¡ç†ï¼ˆè‰ç¨¿ã€å‘å¸ƒã€ç½®é¡¶ï¼‰
- [x] æ–‡ç« æµè§ˆç»Ÿè®¡

### 3. äº’åŠ¨ç³»ç»Ÿ
- [x] è¯„è®ºå’Œå›å¤åŠŸèƒ½
- [x] ç‚¹èµ/è¸©åŠŸèƒ½
- [x] æ–‡ç« æ”¶è—åŠŸèƒ½
- [x] ç”¨æˆ·å…³æ³¨/ç²‰ä¸ç³»ç»Ÿ

### 4. ç¤¾åŒºåŠŸèƒ½
- [x] ç§ä¿¡ç³»ç»Ÿ
- [x] é€šçŸ¥ç³»ç»Ÿ
- [x] çƒ­é—¨æ–‡ç« æ¨è
- [x] ç”¨æˆ·æ’è¡Œæ¦œ

### 5. ç®¡ç†åŠŸèƒ½
- [x] å†…å®¹å®¡æ ¸
- [x] ç”¨æˆ·ç®¡ç†
- [x] åˆ†ç±»ç®¡ç†
- [x] ç³»ç»Ÿè®¾ç½®

## ğŸ“ é¡¹ç›®ç»“æ„

```
demo/
â”œâ”€â”€ docker-compose.yml              # Dockerç¼–æ’æ–‡ä»¶
â”œâ”€â”€ nginx/                          # Nginxé…ç½®
â”‚   â””â”€â”€ nginx.conf
â”œâ”€â”€ mysql/                          # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â””â”€â”€ init.sql
â”œâ”€â”€ backend/                        # Spring Bootåç«¯
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ pom.xml
â”‚   â””â”€â”€ src/
â”‚       â””â”€â”€ main/
â”‚           â”œâ”€â”€ java/
â”‚           â”‚   â””â”€â”€ com/
â”‚           â”‚       â””â”€â”€ community/
â”‚           â”‚           â”œâ”€â”€ CommunityApplication.java
â”‚           â”‚           â”œâ”€â”€ config/          # é…ç½®ç±»
â”‚           â”‚           â”œâ”€â”€ controller/      # æ§åˆ¶å™¨
â”‚           â”‚           â”œâ”€â”€ service/         # ä¸šåŠ¡é€»è¾‘
â”‚           â”‚           â”œâ”€â”€ mapper/          # MyBatisæ˜ å°„
â”‚           â”‚           â”œâ”€â”€ entity/          # å®ä½“ç±»
â”‚           â”‚           â”œâ”€â”€ dto/             # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚           â”‚           â””â”€â”€ utils/           # å·¥å…·ç±»
â”‚           â””â”€â”€ resources/
â”‚               â”œâ”€â”€ application.yml
â”‚               â””â”€â”€ mapper/                  # MyBatis XMLæ–‡ä»¶
â”œâ”€â”€ frontend/                       # Reactå‰ç«¯
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ components/             # ç»„ä»¶
â”‚       â”œâ”€â”€ pages/                  # é¡µé¢
â”‚       â”œâ”€â”€ services/               # APIæœåŠ¡
â”‚       â”œâ”€â”€ store/                  # ReduxçŠ¶æ€ç®¡ç†
â”‚       â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚       â””â”€â”€ styles/                 # æ ·å¼æ–‡ä»¶
â””â”€â”€ README.md                       # é¡¹ç›®è¯´æ˜
```

## ğŸ“… å¼€å‘è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¡†æ¶æ­å»º (1-2å‘¨)
- [x] Dockerç¯å¢ƒé…ç½®
- [x] åç«¯Spring BootåŸºç¡€æ¡†æ¶æ­å»º
- [x] å‰ç«¯ReactåŸºç¡€æ¡†æ¶æ­å»º
- [x] æ•°æ®åº“è®¾è®¡å’Œåˆå§‹åŒ–
- [x] åŸºç¡€é¡¹ç›®ç»“æ„æ­å»º

### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½å¼€å‘ (2-3å‘¨)
- [x] ç”¨æˆ·ç³»ç»Ÿï¼ˆæ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†ï¼‰
- [x] æ–‡ç« ç³»ç»Ÿï¼ˆCRUDæ“ä½œï¼‰
- [x] åŸºç¡€UIç•Œé¢è®¾è®¡
- [x] å‰åç«¯APIå¯¹æ¥

### ç¬¬ä¸‰é˜¶æ®µï¼šç¤¾åŒºåŠŸèƒ½å¼€å‘ (2-3å‘¨)
- [x] è¯„è®ºç³»ç»Ÿ
- [x] å…³æ³¨ç³»ç»Ÿ
- [x] ç‚¹èµæ”¶è—åŠŸèƒ½
- [x] ç”¨æˆ·äº’åŠ¨åŠŸèƒ½

### ç¬¬å››é˜¶æ®µï¼šé«˜çº§åŠŸèƒ½å¼€å‘ (2-3å‘¨)
- [x] ç§ä¿¡ç³»ç»Ÿ
- [x] é€šçŸ¥ç³»ç»Ÿ
- [x] ç®¡ç†åå°
- [x] æœç´¢å’Œæ¨èåŠŸèƒ½

### ç¬¬äº”é˜¶æ®µï¼šæµ‹è¯•å’Œä¼˜åŒ– (1-2å‘¨)
- [x] åŠŸèƒ½æµ‹è¯•
- [x] æ€§èƒ½ä¼˜åŒ–
- [x] å®‰å…¨åŠ å›º
- [x] éƒ¨ç½²æ–‡æ¡£

## ğŸ³ Dockeréƒ¨ç½²é…ç½®

### docker-compose.yml
```yaml
version: '3.8'

services:
  mysql:
    image: mysql:8.0
    container_name: community-mysql
    environment:
      MYSQL_ROOT_PASSWORD: root123
      MYSQL_DATABASE: community
      MYSQL_USER: community
      MYSQL_PASSWORD: community123
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql
      - ./mysql/init.sql:/docker-entrypoint-initdb.d/init.sql

  redis:
    image: redis:7-alpine
    container_name: community-redis
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data

  backend:
    build: ./backend
    container_name: community-backend
    ports:
      - "8080:8080"
    depends_on:
      - mysql
      - redis
    environment:
      - SPRING_PROFILES_ACTIVE=docker
      - MYSQL_HOST=mysql
      - REDIS_HOST=redis

  frontend:
    build: ./frontend
    container_name: community-frontend
    ports:
      - "3000:3000"
    depends_on:
      - backend

  nginx:
    image: nginx:alpine
    container_name: community-nginx
    ports:
      - "80:80"
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf
    depends_on:
      - frontend
      - backend

volumes:
  mysql_data:
  redis_data:
```

## ğŸ”§ å¼€å‘ç¯å¢ƒè¦æ±‚

- **Java**: JDK 11+
- **Node.js**: 16+
- **Docker**: 20+
- **Docker Compose**: 2.0+
- **MySQL**: 8.0+
- **Redis**: 6.0+

## ğŸ“ å¼€å‘è§„èŒƒ

### åç«¯å¼€å‘è§„èŒƒ
- ä½¿ç”¨RESTful APIè®¾è®¡
- ç»Ÿä¸€è¿”å›æ ¼å¼
- å¼‚å¸¸å¤„ç†æœºåˆ¶
- æ—¥å¿—è®°å½•è§„èŒƒ
- ä»£ç æ³¨é‡Šè§„èŒƒ

### å‰ç«¯å¼€å‘è§„èŒƒ
- ç»„ä»¶åŒ–å¼€å‘
- å“åº”å¼è®¾è®¡
- ä»£ç åˆ†å‰²
- é”™è¯¯è¾¹ç•Œå¤„ç†
- æ€§èƒ½ä¼˜åŒ–

## ğŸ¨ UIè®¾è®¡åŸåˆ™

- **ç®€æ´ç°ä»£**: é‡‡ç”¨ç®€æ´çš„è®¾è®¡é£æ ¼ï¼Œçªå‡ºå†…å®¹
- **å“åº”å¼**: æ”¯æŒå¤šè®¾å¤‡è®¿é—®
- **ç”¨æˆ·ä½“éªŒ**: æ³¨é‡äº¤äº’ä½“éªŒå’Œæ“ä½œæµç•…æ€§
- **ä¸€è‡´æ€§**: ä¿æŒè®¾è®¡å…ƒç´ çš„ä¸€è‡´æ€§

## ğŸ“ˆ æ€§èƒ½ç›®æ ‡

- é¡µé¢åŠ è½½æ—¶é—´ < 2ç§’
- APIå“åº”æ—¶é—´ < 500ms
- æ”¯æŒ1000+å¹¶å‘ç”¨æˆ·
- 99.9%ç³»ç»Ÿå¯ç”¨æ€§

## ğŸ”’ å®‰å…¨è€ƒè™‘

- ç”¨æˆ·å¯†ç åŠ å¯†å­˜å‚¨
- JWT tokenè®¤è¯
- SQLæ³¨å…¥é˜²æŠ¤
- XSSæ”»å‡»é˜²æŠ¤
- CSRFæ”»å‡»é˜²æŠ¤
- æ–‡ä»¶ä¸Šä¼ å®‰å…¨

## ğŸ“š å­¦ä¹ èµ„æº

- [Spring Bootå®˜æ–¹æ–‡æ¡£](https://spring.io/projects/spring-boot)
- [Reactå®˜æ–¹æ–‡æ¡£](https://reactjs.org/)
- [MyBatiså®˜æ–¹æ–‡æ¡£](https://mybatis.org/)
- [Ant Designç»„ä»¶åº“](https://ant.design/)
- [Dockerå®˜æ–¹æ–‡æ¡£](https://docs.docker.com/)

---

**åˆ›å»ºæ—¶é—´**: 2024å¹´12æœˆ
**æœ€åæ›´æ–°**: 2024å¹´12æœˆ
**ç‰ˆæœ¬**: v1.0
