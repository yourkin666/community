{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { extract as tokenExtractStyle, TOKEN_PREFIX } from \"./hooks/useCacheToken\";\nimport { CSS_VAR_PREFIX, extract as cssVarExtractStyle } from \"./hooks/useCSSVarRegister\";\nimport { extract as styleExtractStyle, STYLE_PREFIX } from \"./hooks/useStyleRegister\";\nimport { toStyleStr } from \"./util\";\nimport { ATTR_CACHE_MAP, serialize as serializeCacheMap } from \"./util/cacheMapUtil\";\nvar ExtractStyleFns = _defineProperty(_defineProperty(_defineProperty({}, STYLE_PREFIX, styleExtractStyle), TOKEN_PREFIX, tokenExtractStyle), CSS_VAR_PREFIX, cssVarExtractStyle);\nfunction isNotNull(value) {\n  return value !== null;\n}\nexport default function extractStyle(cache, options) {\n  var _ref = typeof options === 'boolean' ? {\n      plain: options\n    } : options || {},\n    _ref$plain = _ref.plain,\n    plain = _ref$plain === void 0 ? false : _ref$plain,\n    _ref$types = _ref.types,\n    types = _ref$types === void 0 ? ['style', 'token', 'cssVar'] : _ref$types,\n    _ref$once = _ref.once,\n    once = _ref$once === void 0 ? false : _ref$once;\n  var matchPrefixRegexp = new RegExp(\"^(\".concat((typeof types === 'string' ? [types] : types).join('|'), \")%\"));\n\n  // prefix with `style` is used for `useStyleRegister` to cache style context\n  var styleKeys = Array.from(cache.cache.keys()).filter(function (key) {\n    return matchPrefixRegexp.test(key);\n  });\n\n  // Common effect styles like animation\n  var effectStyles = {};\n\n  // Mapping of cachePath to style hash\n  var cachePathMap = {};\n  var styleText = '';\n  styleKeys.map(function (key) {\n    if (once && cache.extracted.has(key)) {\n      return null; // Skip if already extracted\n    }\n    var cachePath = key.replace(matchPrefixRegexp, '').replace(/%/g, '|');\n    var _key$split = key.split('%'),\n      _key$split2 = _slicedToArray(_key$split, 1),\n      prefix = _key$split2[0];\n    var extractFn = ExtractStyleFns[prefix];\n    var extractedStyle = extractFn(cache.cache.get(key)[1], effectStyles, {\n      plain: plain\n    });\n    if (!extractedStyle) {\n      return null;\n    }\n    var _extractedStyle = _slicedToArray(extractedStyle, 3),\n      order = _extractedStyle[0],\n      styleId = _extractedStyle[1],\n      styleStr = _extractedStyle[2];\n    if (key.startsWith('style')) {\n      cachePathMap[cachePath] = styleId;\n    }\n\n    // record that this style has been extracted\n    cache.extracted.add(key);\n    return [order, styleStr];\n  }).filter(isNotNull).sort(function (_ref2, _ref3) {\n    var _ref4 = _slicedToArray(_ref2, 1),\n      o1 = _ref4[0];\n    var _ref5 = _slicedToArray(_ref3, 1),\n      o2 = _ref5[0];\n    return o1 - o2;\n  }).forEach(function (_ref6) {\n    var _ref7 = _slicedToArray(_ref6, 2),\n      style = _ref7[1];\n    styleText += style;\n  });\n\n  // ==================== Fill Cache Path ====================\n  styleText += toStyleStr(\".\".concat(ATTR_CACHE_MAP, \"{content:\\\"\").concat(serializeCacheMap(cachePathMap), \"\\\";}\"), undefined, undefined, _defineProperty({}, ATTR_CACHE_MAP, ATTR_CACHE_MAP), plain);\n  return styleText;\n}","map":{"version":3,"names":["_slicedToArray","_defineProperty","extract","tokenExtractStyle","TOKEN_PREFIX","CSS_VAR_PREFIX","cssVarExtractStyle","styleExtractStyle","STYLE_PREFIX","toStyleStr","ATTR_CACHE_MAP","serialize","serializeCacheMap","ExtractStyleFns","isNotNull","value","extractStyle","cache","options","_ref","plain","_ref$plain","_ref$types","types","_ref$once","once","matchPrefixRegexp","RegExp","concat","join","styleKeys","Array","from","keys","filter","key","test","effectStyles","cachePathMap","styleText","map","extracted","has","cachePath","replace","_key$split","split","_key$split2","prefix","extractFn","extractedStyle","get","_extractedStyle","order","styleId","styleStr","startsWith","add","sort","_ref2","_ref3","_ref4","o1","_ref5","o2","forEach","_ref6","_ref7","style","undefined"],"sources":["/root/community/frontend/node_modules/@ant-design/cssinjs/es/extractStyle.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { extract as tokenExtractStyle, TOKEN_PREFIX } from \"./hooks/useCacheToken\";\nimport { CSS_VAR_PREFIX, extract as cssVarExtractStyle } from \"./hooks/useCSSVarRegister\";\nimport { extract as styleExtractStyle, STYLE_PREFIX } from \"./hooks/useStyleRegister\";\nimport { toStyleStr } from \"./util\";\nimport { ATTR_CACHE_MAP, serialize as serializeCacheMap } from \"./util/cacheMapUtil\";\nvar ExtractStyleFns = _defineProperty(_defineProperty(_defineProperty({}, STYLE_PREFIX, styleExtractStyle), TOKEN_PREFIX, tokenExtractStyle), CSS_VAR_PREFIX, cssVarExtractStyle);\nfunction isNotNull(value) {\n  return value !== null;\n}\nexport default function extractStyle(cache, options) {\n  var _ref = typeof options === 'boolean' ? {\n      plain: options\n    } : options || {},\n    _ref$plain = _ref.plain,\n    plain = _ref$plain === void 0 ? false : _ref$plain,\n    _ref$types = _ref.types,\n    types = _ref$types === void 0 ? ['style', 'token', 'cssVar'] : _ref$types,\n    _ref$once = _ref.once,\n    once = _ref$once === void 0 ? false : _ref$once;\n  var matchPrefixRegexp = new RegExp(\"^(\".concat((typeof types === 'string' ? [types] : types).join('|'), \")%\"));\n\n  // prefix with `style` is used for `useStyleRegister` to cache style context\n  var styleKeys = Array.from(cache.cache.keys()).filter(function (key) {\n    return matchPrefixRegexp.test(key);\n  });\n\n  // Common effect styles like animation\n  var effectStyles = {};\n\n  // Mapping of cachePath to style hash\n  var cachePathMap = {};\n  var styleText = '';\n  styleKeys.map(function (key) {\n    if (once && cache.extracted.has(key)) {\n      return null; // Skip if already extracted\n    }\n    var cachePath = key.replace(matchPrefixRegexp, '').replace(/%/g, '|');\n    var _key$split = key.split('%'),\n      _key$split2 = _slicedToArray(_key$split, 1),\n      prefix = _key$split2[0];\n    var extractFn = ExtractStyleFns[prefix];\n    var extractedStyle = extractFn(cache.cache.get(key)[1], effectStyles, {\n      plain: plain\n    });\n    if (!extractedStyle) {\n      return null;\n    }\n    var _extractedStyle = _slicedToArray(extractedStyle, 3),\n      order = _extractedStyle[0],\n      styleId = _extractedStyle[1],\n      styleStr = _extractedStyle[2];\n    if (key.startsWith('style')) {\n      cachePathMap[cachePath] = styleId;\n    }\n\n    // record that this style has been extracted\n    cache.extracted.add(key);\n    return [order, styleStr];\n  }).filter(isNotNull).sort(function (_ref2, _ref3) {\n    var _ref4 = _slicedToArray(_ref2, 1),\n      o1 = _ref4[0];\n    var _ref5 = _slicedToArray(_ref3, 1),\n      o2 = _ref5[0];\n    return o1 - o2;\n  }).forEach(function (_ref6) {\n    var _ref7 = _slicedToArray(_ref6, 2),\n      style = _ref7[1];\n    styleText += style;\n  });\n\n  // ==================== Fill Cache Path ====================\n  styleText += toStyleStr(\".\".concat(ATTR_CACHE_MAP, \"{content:\\\"\").concat(serializeCacheMap(cachePathMap), \"\\\";}\"), undefined, undefined, _defineProperty({}, ATTR_CACHE_MAP, ATTR_CACHE_MAP), plain);\n  return styleText;\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}