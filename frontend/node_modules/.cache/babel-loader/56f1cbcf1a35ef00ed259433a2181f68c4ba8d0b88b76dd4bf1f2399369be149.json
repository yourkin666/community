{"ast":null,"code":"var _jsxFileName = \"/root/community/frontend/src/components/Header.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Layout, Menu, Button, Avatar, Dropdown, Space } from 'antd';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { UserOutlined, EditOutlined, LogoutOutlined, HomeOutlined } from '@ant-design/icons';\nimport { useAuth } from '../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Header: AntHeader\n} = Layout;\nconst Header = () => {\n  _s();\n  const {\n    user,\n    logout,\n    isAuthenticated\n  } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const handleLogout = async () => {\n    await logout();\n    navigate('/');\n  };\n  const userMenu = {\n    items: [{\n      key: 'profile',\n      icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 15\n      }, this),\n      label: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/profile\",\n        children: \"\\u4E2A\\u4EBA\\u8D44\\u6599\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 16\n      }, this)\n    }, {\n      key: 'create-article',\n      icon: /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 15\n      }, this),\n      label: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/create-article\",\n        children: \"\\u53D1\\u5E03\\u6587\\u7AE0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 16\n      }, this)\n    }, {\n      type: 'divider'\n    }, {\n      key: 'logout',\n      icon: /*#__PURE__*/_jsxDEV(LogoutOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 15\n      }, this),\n      label: '退出登录',\n      onClick: handleLogout\n    }]\n  };\n  const menuItems = isAuthenticated ? [{\n    key: '/',\n    icon: /*#__PURE__*/_jsxDEV(HomeOutlined, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this),\n    label: /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      children: \"\\u9996\\u9875\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 14\n    }, this)\n  }] : [];\n  return /*#__PURE__*/_jsxDEV(AntHeader, {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'space-between'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        style: {\n          color: 'white',\n          fontSize: '20px',\n          fontWeight: 'bold',\n          marginRight: '20px'\n        },\n        children: isAuthenticated ? /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          style: {\n            color: 'white',\n            textDecoration: 'none'\n          },\n          children: \"\\u4EA4\\u6D41\\u793E\\u533A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: 'white',\n            textDecoration: 'none'\n          },\n          children: \"\\u4EA4\\u6D41\\u793E\\u533A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(Menu, {\n        theme: \"dark\",\n        mode: \"horizontal\",\n        selectedKeys: [location.pathname],\n        items: menuItems,\n        style: {\n          flex: 1,\n          minWidth: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: isAuthenticated ? /*#__PURE__*/_jsxDEV(Space, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          icon: /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 42\n          }, this),\n          onClick: () => navigate('/create-article'),\n          children: \"\\u53D1\\u5E03\\u6587\\u7AE0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n          menu: userMenu,\n          placement: \"bottomRight\",\n          children: /*#__PURE__*/_jsxDEV(Space, {\n            style: {\n              cursor: 'pointer',\n              color: 'white'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Avatar, {\n              size: \"small\",\n              icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 44\n              }, this),\n              src: user === null || user === void 0 ? void 0 : user.avatar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: user === null || user === void 0 ? void 0 : user.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Space, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"default\",\n          onClick: () => navigate('/login'),\n          children: \"\\u767B\\u5F55\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          onClick: () => navigate('/register'),\n          children: \"\\u6CE8\\u518C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(Header, \"ZOe2yg2CLtuAul1djQ7gIdR26tQ=\", false, function () {\n  return [useAuth, useNavigate, useLocation];\n});\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","Layout","Menu","Button","Avatar","Dropdown","Space","Link","useNavigate","useLocation","UserOutlined","EditOutlined","LogoutOutlined","HomeOutlined","useAuth","jsxDEV","_jsxDEV","Header","AntHeader","_s","user","logout","isAuthenticated","navigate","location","handleLogout","userMenu","items","key","icon","fileName","_jsxFileName","lineNumber","columnNumber","label","to","children","type","onClick","menuItems","style","display","alignItems","justifyContent","className","color","fontSize","fontWeight","marginRight","textDecoration","theme","mode","selectedKeys","pathname","flex","minWidth","menu","placement","cursor","size","src","avatar","username","_c","$RefreshReg$"],"sources":["/root/community/frontend/src/components/Header.js"],"sourcesContent":["import React from 'react';\nimport { Layout, Menu, Button, Avatar, Dropdown, Space } from 'antd';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { UserOutlined, EditOutlined, LogoutOutlined, HomeOutlined } from '@ant-design/icons';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst { Header: AntHeader } = Layout;\n\nconst Header = () => {\n  const { user, logout, isAuthenticated } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const handleLogout = async () => {\n    await logout();\n    navigate('/');\n  };\n\n  const userMenu = {\n    items: [\n      {\n        key: 'profile',\n        icon: <UserOutlined />,\n        label: <Link to=\"/profile\">个人资料</Link>,\n      },\n      {\n        key: 'create-article',\n        icon: <EditOutlined />,\n        label: <Link to=\"/create-article\">发布文章</Link>,\n      },\n      {\n        type: 'divider',\n      },\n      {\n        key: 'logout',\n        icon: <LogoutOutlined />,\n        label: '退出登录',\n        onClick: handleLogout,\n      },\n    ],\n  };\n\n  const menuItems = isAuthenticated ? [\n    {\n      key: '/',\n      icon: <HomeOutlined />,\n      label: <Link to=\"/\">首页</Link>,\n    },\n  ] : [];\n\n  return (\n    <AntHeader style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n      <div style={{ display: 'flex', alignItems: 'center' }}>\n        <div className=\"logo\" style={{ color: 'white', fontSize: '20px', fontWeight: 'bold', marginRight: '20px' }}>\n          {isAuthenticated ? (\n            <Link to=\"/\" style={{ color: 'white', textDecoration: 'none' }}>\n              交流社区\n            </Link>\n          ) : (\n            <span style={{ color: 'white', textDecoration: 'none' }}>\n              交流社区\n            </span>\n          )}\n        </div>\n        {isAuthenticated && (\n          <Menu\n            theme=\"dark\"\n            mode=\"horizontal\"\n            selectedKeys={[location.pathname]}\n            items={menuItems}\n            style={{ flex: 1, minWidth: 0 }}\n          />\n        )}\n      </div>\n\n      <div>\n        {isAuthenticated ? (\n          <Space>\n            <Button type=\"primary\" icon={<EditOutlined />} onClick={() => navigate('/create-article')}>\n              发布文章\n            </Button>\n            <Dropdown menu={userMenu} placement=\"bottomRight\">\n              <Space style={{ cursor: 'pointer', color: 'white' }}>\n                <Avatar size=\"small\" icon={<UserOutlined />} src={user?.avatar} />\n                <span>{user?.username}</span>\n              </Space>\n            </Dropdown>\n          </Space>\n        ) : (\n          <Space>\n            <Button type=\"default\" onClick={() => navigate('/login')}>\n              登录\n            </Button>\n            <Button type=\"primary\" onClick={() => navigate('/register')}>\n              注册\n            </Button>\n          </Space>\n        )}\n      </div>\n    </AntHeader>\n  );\n};\n\nexport default Header;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}